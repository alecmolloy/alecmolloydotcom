var videoInput,ctracker,dpr=devicePixelRatio,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),ctracker=new clm.tracker;ctracker.init(pModel);var streamPromise=navigator.mediaDevices.getUserMedia({video:{width:400,height:300,framerate:1}});streamPromise.then(function(e){videoInput=document.getElementById("videoInput"),videoInput.src=window.URL.createObjectURL(e),videoInput.onloadedmetadata=function(){videoInput.play(),ctracker.start(videoInput)}}),streamPromise.catch(function(e){console.error(e.name)});var draw=function(){window.requestAnimationFrame(draw),ctx.clearRect(0,0,canvas.width,canvas.height),ctracker.draw(canvas)};draw();
