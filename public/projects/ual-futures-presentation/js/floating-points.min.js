function floatingPoints(){function t(o,e){for(var i=[],t=0;n>=t;++t)i[t]={x:(e.x-o.x)/n*t+o.x,y:(e.y-o.y)/n*t+o.y};return i}function r(o){for(var e=0;n>=e;e++)o[e].segments[0].point.x=BAIntervals[e].x,o[e].segments[0].point.y=BAIntervals[e].y,o[e].segments[1].point.x=BCIntervals[e].x,o[e].segments[1].point.y=BCIntervals[e].y}function p(n){s.x=n.point.x,s.y=n.point.y}var n=20,o=document.getElementById("bg-content"),e=new paper.Tool,i="ontouchstart"in document.documentElement;paper.setup(o),lineColor=i?"#f2c0d3":"#fcebf1",o.style.cursor="none";var a={x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},s={x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},d={x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight};BAIntervals=t(a,s),BCIntervals=t(s,d),connectors=[];for(var w=0;n>=w;w++)connectors[w]=new paper.Path(BAIntervals[w],BCIntervals[w]),connectors[w].strokeColor=lineColor,connectors[w].strokeCap="round";var c=.1,l=.3,f=.05,y=.07,v=-.4,h=-.2;paper.view.onFrame=function(){a.x+=c,a.y+=l,d.x+=v,d.y+=h,a.x<1&&(c*=-1),a.y<1&&(l*=-1),d.x<1&&(v*=-1),d.y<1&&(h*=-1),a.x>=window.innerWidth&&(c*=-1),a.y>=window.innerHeight&&(l*=-1),d.x>=window.innerWidth&&(v*=-1),d.y>=window.innerHeight&&(h*=-1),BAIntervals=t(a,s),BCIntervals=t(s,d),r(connectors),i||document.body.scrollTop>.75*window.innerHeight?(s.x+=f,s.y+=y,s.x<1&&(f*=-1),s.y<1&&(y*=-1),s.x>=window.innerWidth&&(f*=-1),s.y>=window.innerHeight&&(y*=-1),e.onMouseMove=0):e.onMouseMove=p},document.body.scrollTop<.75*window.innerHeight&&(e.onMouseMove=p),e.onKeyDown=function(o){if(("="===o.key||"+"===o.key)&&(n++,BAIntervals=t(a,s),BCIntervals=t(s,d),connectors[n]=new paper.Path(BAIntervals[n],BCIntervals[n]),connectors[n].strokeColor=lineColor,connectors[n].strokeCap="round"),"-"===o.key&&n>1){n--;for(var e=0;n>=e;e++)connectors[n+1].remove()}},window.onresize=function(){paper.view.viewSize=[window.innerWidth,window.innerHeight]}}window.onload=floatingPoints;
